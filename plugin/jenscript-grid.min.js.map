{"version":3,"file":"jenscript-grid.min.js","sources":["jenscript-grid.js"],"names":["JenScript","Grid","config","this","init","Model","addMethods","deviceValue","userValue","metricsMarkerColor","metricsLabelColor","format","gridLabel","lockMarker","lockLabel","visible","setDeviceValue","value","setUserValue","getDeviceValue","getUserValue","AbstractGridPlugin","_init","inheritPrototype","Plugin","grids","sensible","name","undefined","priority","gridOrientation","gridColor","fn","gridWidth","gridOpacity","onGridPress","onGridRelease","onGridEnter","onGridExit","onGrid","call","onProjectionRegister","that","getProjection","addProjectionListener","repaintPlugin","toString","onMove","evt","part","x","y","i","length","g","z","Math","abs","enter","onPress","press","onRelease","getGridManager","Error","paintGrids","g2d","grid","gd","or","color","themeColor","x1","y1","x2","getPixelWidth","y2","getPixelHeight","gridLine","SVGLine","Id","sequenceId","from","to","stroke","strokeWidth","strokeOpacity","fillNone","element","toSVG","insertSVG","paintPlugin","ViewPart","Device","setGridsPlugin","getGrids","GridManager","getOrientation","getGridsPlugin","metricsPlugin","gridsPlugin","GridsExponentModel","exponent","factor","gridsManager","ref","maxValue","pixelLabelHolder","solveType","getGridsManager","setGridsManager","generateMedianGrids","solve","originFactor","multiply","formater","BigNumber","equals","toFixed","generateGrids","median","flag","metricsValue","m0","generateGrid","toNumber","major","add","m","greaterThanOrEqualTo","proj","userSize","getUserWidth","ROUNDING_MODE","ROUND_CEIL","bd1","getMinX","divide","bi1","subtract","pixelSize","getMaxX","getUserHeight","getMinY","getMaxY","ROUND_HALF_EVEN","isValid","compare","compareTo","GridManagerModeled","gridsModels","createSymmetricListModel","exp","models","createExponentModel","model","mutPattern","j","multiplier","registerGridModel","sort","m1","m2","registerGridModels","valid","filterm1","mf","f","mf2","a","concat","maxPixelValue","userToPixelX","userToPixelY","GridModeledPlugin","__init","gridManager"],"mappings":";;;;CAGA,WACCA,UAAUC,KAAO,SAASC,GACzBC,KAAKC,KAAKF,IAEXF,UAAUK,MAAMC,WAAWN,UAAUC,MAEpCG,KAAO,SAASF,GACfA,EAAOA,MAGPC,KAAKI,YAELJ,KAAKK,UAELL,KAAKM,mBAELN,KAAKO,kBAELP,KAAKQ,OAELR,KAAKS,UAEFT,KAAKU,WAELV,KAAKW,UAELX,KAAKY,SAAU,GAGnBC,eAAiB,SAASC,GACtBd,KAAKI,YAAYU,GAGrBC,aAAe,SAASD,GACpBd,KAAKK,UAAUS,GAGnBE,eAAiB,WACb,MAAOhB,MAAKI,aAEhBa,aAAe,WACX,MAAOjB,MAAKK,gBAIlB,WAICR,UAAUqB,mBAAqB,SAASnB,GACvCC,KAAKmB,MAAMpB,IAEZF,UAAUK,MAAMkB,iBAAiBvB,UAAUqB,mBAAoBrB,UAAUwB,QACzExB,UAAUK,MAAMC,WAAWN,UAAUqB,oBACpCC,MAAQ,SAASpB,GAChBA,EAASA,MACTC,KAAKsB,SACLtB,KAAKuB,SAAW,EAChBxB,EAAOyB,KAAwBC,SAAhB1B,EAAOyB,KAAoBzB,EAAOyB,KAAO,qBACxDzB,EAAO2B,SAAW,KAClB1B,KAAK2B,gBAAkB5B,EAAO4B,gBAC9B3B,KAAK4B,UAAY7B,EAAO6B,SACxB,IAAIC,GAAK,YACT7B,MAAK8B,UAAiCL,SAArB1B,EAAO+B,UAAyB/B,EAAO+B,UAAY,EACpE9B,KAAK+B,YAAqCN,SAAvB1B,EAAOgC,YAA2BhC,EAAOgC,YAAc,EAC1E/B,KAAKgC,YAAsCP,SAAvB1B,EAAOiC,YAA2BjC,EAAOiC,YAAcH,EAC3E7B,KAAKiC,cAA0CR,SAAzB1B,EAAOkC,cAA6BlC,EAAOkC,cAAgBJ,EACjF7B,KAAKkC,YAAsCT,SAAvB1B,EAAOmC,YAA2BnC,EAAOmC,YAAcL,EAC3E7B,KAAKmC,WAAoCV,SAAtB1B,EAAOoC,WAA0BpC,EAAOoC,WAAaN,EACxE7B,KAAKoC,OAA4BX,SAAlB1B,EAAOqC,OAAsBrC,EAAOqC,OAASP,EAE5DhC,UAAUwB,OAAOgB,KAAKrC,KAAKD,IAG5BuC,qBAAuB,WACtB,GAAIC,GAAOvC,IACXA,MAAKwC,gBAAgBC,sBAAsB,eAAgB,WAC1DF,EAAKG,iBACJH,EAAKI,aAGRC,OAAS,SAASC,EAAIC,EAAKC,EAAEC,GAC5B,IAAK,GAAIC,GAAI,EAAGA,EAAIjD,KAAKsB,MAAM4B,OAAQD,IAAK,CAC/B,GAAIE,GAAInD,KAAKsB,MAAM2B,GACfG,EAA8B,aAAzBpD,KAAK2B,gBAAgCoB,EAAEC,CAC7CK,MAAKC,IAAIF,EAAID,EAAE/C,aAAeJ,KAAKuB,WAAa4B,EAAEI,OACpDJ,EAAEI,OAAQ,EACVvD,KAAKkC,YAAYiB,GACjBnD,KAAKoC,OAAO,QAAQe,IACZE,KAAKC,IAAIF,EAAID,EAAE/C,aAAeJ,KAAKuB,UAAY4B,EAAEI,QACzDJ,EAAEI,OAAQ,EACVvD,KAAKmC,WAAWgB,GAChBnD,KAAKoC,OAAO,OAAOe,MAKlCK,QAAU,WACT,IAAK,GAAIP,GAAI,EAAGA,EAAIjD,KAAKsB,MAAM4B,OAAQD,IAAK,CAC/B,GAAIE,GAAInD,KAAKsB,MAAM2B,EAChBE,GAAEI,QACDJ,EAAEM,OAAQ,EACbzD,KAAKgC,YAAYmB,GACjBnD,KAAKoC,OAAO,QAAQe,MAKnCO,UAAY,WACX,IAAK,GAAIT,GAAI,EAAGA,EAAIjD,KAAKsB,MAAM4B,OAAQD,IAAK,CAC/B,GAAIE,GAAInD,KAAKsB,MAAM2B,EAChBE,GAAEM,QACJzD,KAAKyD,OAAQ,EACbzD,KAAKiC,cAAckB,GACnBnD,KAAKoC,OAAO,UAAUe,MAQrCQ,eAAiB,WAChB,KAAM,IAAIC,OAAM,+CAGjBC,WAAa,SAASC,EAAIxC,GACzB,IAAK,GAAI2B,GAAI,EAAGA,EAAI3B,EAAM4B,OAAQD,IAAK,CAC1B,GAAIc,GAAOzC,EAAM2B,GACbe,EAAKD,EAAK3D,YACV6D,EAAKjE,KAAK2B,gBACVuC,EAA4BzC,SAAnBzB,KAAK4B,UAAyB5B,KAAK4B,UAAU5B,KAAKwC,gBAAgB2B,WAC3EC,EAAa,aAAPH,EAAmBD,EAAG,EAC5BK,EAAa,aAAPJ,EAAmB,EAAED,EAC3BM,EAAa,aAAPL,EAAmBD,EAAGhE,KAAKwC,gBAAgB+B,gBACjDC,EAAa,aAAPP,EAAmBjE,KAAKwC,gBAAgBiC,iBAAiBT,EAC/DU,GAAW,GAAI7E,WAAU8E,SAAUC,GAAG,OAAO/E,UAAUgF,cAAcC,KAAKV,EAAGC,GAAIU,GAAGT,EAAGE,GAAIQ,OAAOd,GAAOe,YAAYjF,KAAK8B,WAAWoD,cAAclF,KAAK+B,aAAaoD,UACzKpB,GAAKqB,QAAUV,EAASW,QACxBvB,EAAIwB,UAAUvB,EAAKqB,WAIjCG,YAAc,SAASzB,EAAIhB,GAChBA,GAAQjD,UAAU2F,SAASC,SAG/BzF,KAAK2D,iBAAiB+B,eAAe1F,MACrCA,KAAKsB,MAAQtB,KAAK2D,iBAAiBgC,WACnC3F,KAAK6D,WAAWC,EAAI9D,KAAKsB,cAKlC,WAECzB,UAAU+F,YAAc,SAAS7F,GAChCC,KAAKC,KAAKF,IAEXF,UAAUK,MAAMC,WAAWN,UAAU+F,aACpC3F,KAAO,SAASF,GACfA,EAASA,OAEV8F,eAAiB,WAChB,MAAO7F,MAAK8F,iBAAiBnE,iBAE9B+D,eAAiB,SAASK,GACzB/F,KAAKgG,YAAYD,GAElBD,eAAiB,WAChB,MAAO9F,MAAKgG,aAEbxD,cAAgB,WACf,MAAOxC,MAAK8F,iBAAiBtD,iBAE9BmD,SAAW,kBAGb,WAKC9F,UAAUoG,mBAAqB,SAASlG,GACvCC,KAAKC,KAAKF,IAEXF,UAAUK,MAAMC,WAAWN,UAAUoG,oBAIpChG,KAAO,SAASF,GACfA,EAASA,MAEHC,KAAKkG,SAAWnG,EAAOmG,SAEvBlG,KAAKmG,OAASpG,EAAOoG,OAErBnG,KAAKoG,aAELpG,KAAKqG,IAELrG,KAAKsG,SAELtG,KAAKuG,iBACLvG,KAAKwG,UAAY,SAOxBC,gBAAkB,WACjB,MAAOzG,MAAKoG,cAObM,gBAAkB,SAASN,GAC1BpG,KAAKoG,aAAeA,GAOfO,oBAAsB,WACrB3G,KAAKwG,UAAY,SACjBxG,KAAK4G,OACL,IAAIC,GAAe7G,KAAKmG,MACxBnG,MAAKmG,OAASnG,KAAKmG,OAAOW,SAAS,GAYnC,KAAI,GAXAvE,GAAOvC,KACP+G,EAAW,WACX,MAAGxE,GAAK2D,SAAW,EACf,GAAIrG,WAAUmH,UAAU,KAAKC,OAAOjH,KAAKK,WAAkB,IACvDL,KAAKK,UAAU6G,QAAQ7D,KAAKC,IAAIf,EAAK2D,UAAU,GAG/ClG,KAAKK,WAGbiB,EAAQtB,KAAKmH,gBACTlE,EAAI,EAAEA,EAAE3B,EAAM4B,OAAOD,IAC5B3B,EAAM2B,GAAGmE,QAAS,EAClB9F,EAAM2B,GAAGzC,OAASuG,CAGnB,OADA/G,MAAKmG,OAASU,EACPvF,GAOR6F,cAAgB,WACfnH,KAAKwG,UAAY,QACjBxG,KAAK4G,OACL,IAAItF,MACG+F,GAAO,EACPC,EAAetH,KAAKqG,IACpB9D,EAAOvC,KACP+G,EAAW,WACd,MAAGxE,GAAK2D,SAAW,EACf,GAAIrG,WAAUmH,UAAU,KAAKC,OAAOjH,KAAKK,WAAkB,IACvDL,KAAKK,UAAU6G,QAAQ7D,KAAKC,IAAIf,EAAK2D,WAGrClG,KAAKK,WAGVkH,EAAKvH,KAAKyG,kBAAkBe,aAAaF,EAAaG,WAAYzH,KAMtE,KALWyB,SAAP8F,IACHjG,EAAMA,EAAM4B,QAAQqE,EACjBA,EAAGG,OAAQ,EACXH,EAAG/G,OAASuG,GAEVM,GAAK,CACVC,EAAeA,EAAaK,IAAI3H,KAAKmG,OACpC,IAAIyB,GAAI5H,KAAKyG,kBAAkBe,aAAaF,EAAaG,WAAYzH,KACxDyB,UAANmG,IACHA,EAAEF,OAAQ,EACVE,EAAEpH,OAASuG,EAEXzF,EAAMA,EAAM4B,QAAQ0E,GAElBN,EAAaO,qBAAqB7H,KAAKsG,YACzCe,GAAO,GAEb,MAAO/F,IAMXsF,MAAQ,WACP,GAAIkB,GAAO9H,KAAKyG,kBAAkBjE,eAC/B,IAAgD,aAA5CxC,KAAKyG,kBAAkBZ,iBAAiC,CAC3D7F,KAAK+H,SAAW,GAAIlI,WAAUmH,UAAUc,EAAKE,eAAe,IAC5DnI,UAAUmH,UAAUjH,QAASkI,cAAgBpI,UAAUmH,UAAUkB,YAC9D,IAAIC,GAAM,GAAItI,WAAUmH,UAAUc,EAAKM,UAAU,IAAIC,OAAOrI,KAAKmG,QAC7DmC,EAAM,GAAIzI,WAAUmH,UAAUmB,EAAIjB,QAAQ,GAC9ClH,MAAKqG,IAAM,GAAIxG,WAAUmH,UAAUsB,GAAKxB,SAAS9G,KAAKmG,QACtDnG,KAAKqG,IAAMrG,KAAKqG,IAAIkC,SAASvI,KAAKmG,QAC/BnG,KAAKqG,IAAIY,OAAO,KAClBjH,KAAKqG,IAAMrG,KAAKqG,IAAIkC,SAASvI,KAAKmG,SAEnCnG,KAAKwI,UAAY,GAAI3I,WAAUmH,UAAUc,EAAKvD,gBAAgB,IAC9DvE,KAAKsG,SAAW,GAAIzG,WAAUmH,UAAUc,EAAKW,UAAU,QAEtD,IAAgD,eAA5CzI,KAAKyG,kBAAkBZ,iBAAmC,CAClE7F,KAAK+H,SAAW,GAAIlI,WAAUmH,UAAUc,EAAKY,gBAAgB,IAC7D7I,UAAUmH,UAAUjH,QAASkI,cAAgBpI,UAAUmH,UAAUkB,YAC9D,IAAIC,GAAM,GAAItI,WAAUmH,UAAUc,EAAKa,UAAU,IAAIN,OAAOrI,KAAKmG,QAC7DmC,EAAM,GAAIzI,WAAUmH,UAAUmB,EAAIjB,QAAQ,GAC9ClH,MAAKqG,IAAM,GAAIxG,WAAUmH,UAAUsB,GAAKxB,SAAS9G,KAAKmG,QACtDnG,KAAKqG,IAAMrG,KAAKqG,IAAIkC,SAASvI,KAAKmG,QAE/BnG,KAAKqG,IAAIY,OAAO,KAClBjH,KAAKqG,IAAMrG,KAAKqG,IAAIkC,SAASvI,KAAKmG,SAEnCnG,KAAKwI,UAAY,GAAI3I,WAAUmH,UAAUc,EAAKrD,iBAAiB,IAC/DzE,KAAKsG,SAAW,GAAIzG,WAAUmH,UAAUc,EAAKc,UAAU,IAE3D/I,UAAUmH,UAAUjH,QAASkI,cAAgBpI,UAAUmH,UAAU6B,kBAC3C,UAAnB7I,KAAKwG,UACPxG,KAAKuG,iBAAmB,GACE,WAAnBvG,KAAKwG,UACZxG,KAAKuG,iBAAmB,GACE,UAAnBvG,KAAKwG,YACZxG,KAAKuG,iBAAmB,IAS7BuC,QAAU,WACN9I,KAAK4G,OACL,IAAImC,GAAW/I,KAAK+H,SAASM,OAAOrI,KAAKmG,QAASW,SAAS,GAAIjH,WAAUmH,UAAUhH,KAAKuG,mBAAmByC,UAAUhJ,KAAKwI,UAC1H,OAAoB,KAAZO,GAAkB,GAAM,KAK3ClJ,UAAUoJ,mBAAqB,SAASlJ,GACvCC,KAAKmB,MAAMpB,IAEZF,UAAUK,MAAMkB,iBAAiBvB,UAAUoJ,mBAAoBpJ,UAAU+F,aACzE/F,UAAUK,MAAMC,WAAWN,UAAUoJ,oBACpC9H,MAAQ,SAASpB,GAChBA,EAASA,MACTF,UAAU+F,YAAYvD,KAAKrC,KAAKD,GAChCC,KAAKkJ,gBAQHC,yBAA2B,SAASC,GAEhC,IAAK,GADDC,MACKpG,GAAKmG,EAAUA,GAALnG,EAAUA,IAAK,CAC9B,GAAI2E,GAAI5H,KAAKsJ,oBAAoBrG,EACjCoG,GAAOA,EAAOnG,QAAQ0E,EAE1B,MAAOyB,IAQXC,oBAAsB,SAASF,GAC3B,GAAIG,GAAQ9H,OACR+H,EAAa,EACjB,IAAU,EAANJ,EAAS,CACTI,GAAwB,IACxB,KAAK,GAAIC,GAAI,EAAGA,EAAIpG,KAAKC,IAAI8F,GAAMK,IAC/BD,GAAwB,GAE5BA,IAAwB,GACxB,IAAIE,GAAaF,CACjBD,GAAQ,GAAI1J,WAAUoG,oBAAoBC,SAAWkD,EAAIjD,OAAQ,GAAItG,WAAUmH,UAAU0C,SAGxF,IAAIN,EAAM,EAAG,CACdI,GAAyB,GACzB,KAAK,GAAIC,GAAI,EAAGA,GAAKpG,KAAKC,IAAI8F,GAAMK,IACnCD,GAAwB,GAEzB,IAAIE,GAAaF,CACjBD,GAAQ,GAAI1J,WAAUoG,oBAAoBC,SAAWkD,EAAIjD,OAAO,GAAItG,WAAUmH,UAAU0C,SAG5E,IAAPN,IACLG,EAAQ,GAAI1J,WAAUoG,oBAAoBC,SAAW,EAAEC,OAAS,GAAItG,WAAUmH,UAAU,OAE5F,OAAOuC,IASXI,kBAAqB,SAASJ,GAC7BA,EAAM7C,gBAAgB1G,MACtBA,KAAKkJ,YAAYlJ,KAAKkJ,YAAYhG,QAAUqG,EACzCvJ,KAAKkJ,YAAYU,KAAK,SAASC,EAAGC,GACjC,MAAOD,GAAG1D,OAAO6C,UAAUc,EAAG3D,WAQnC4D,mBAAqB,SAASV,GAC1B,IAAK,GAAIpG,GAAI,EAAGA,EAAIoG,EAAOnG,OAAQD,IAC/BjD,KAAK2J,kBAAkBN,EAAOpG,KAOtC0C,SAAW,WAGb,IAAK,GAFEkE,MACAC,KACElC,EAAI,EAAGA,EAAI5H,KAAKkJ,YAAYhG,OAAQ0E,IAAK,CACjD,GAAIoC,GAAQhK,KAAKkJ,YAAYtB,GAAGkB,SAChC,IAAGkB,EAAM,CAERH,EAAK7J,KAAKkJ,YAAYtB,GAAGT,eACzB,IAAI8C,GAAW,SAASC,GACtB,IAAK,GAAIC,GAAI,EAAGA,EAAIN,EAAG3G,OAAQiH,IAC9B,GAAGD,EAAG7J,YAAcwJ,EAAGM,GAAG9J,UACzB,OAAO,CAET,QAAO,EAGR,IAAGwJ,EAAG3G,OAAS,EAEf,IAAK,GADDkH,GAAMpK,KAAKkJ,YAAYtB,GAAGjB,sBACrB0D,EAAI,EAAGA,EAAID,EAAIlH,OAAQmH,IAC3BJ,EAASG,EAAIC,MAChBP,EAAGA,EAAG5G,QAAUkH,EAAIC,GAItB,UAAUC,OAAOT,EAAGC,MAYrBtC,aAAe,SAAUnH,GACrB,GAAI0D,GAAO,GAAIlE,WAAUC,KACrBgI,EAAO9H,KAAKwC,gBACZpC,EAAc,EACdmK,EAAgB,CASpB,OAR8B,aAA1BvK,KAAK6F,kBACLzF,EAAc0H,EAAK0C,aAAanK,GAChCkK,EAAgBzC,EAAKvD,iBAEU,eAA1BvE,KAAK6F,mBACVzF,EAAc0H,EAAK2C,aAAapK,GAChCkK,EAAgBzC,EAAKrD,kBAEP,EAAdrE,GAAmBA,EAAcmK,EAC1B9I,QAEXsC,EAAKlD,eAAeT,GACpB2D,EAAKhD,aAAaV,GACX0D,SAIhB,WAEClE,UAAU6K,kBAAoB,SAAS3K,GACtCC,KAAK2K,OAAO5K,IAEbF,UAAUK,MAAMkB,iBAAiBvB,UAAU6K,kBAAmB7K,UAAUqB,oBACxErB,UAAUK,MAAMC,WAAWN,UAAU6K,mBACpCC,OAAS,SAAS5K,GACjBA,EAASA,MACTA,EAAOyB,KAAM,oBACbxB,KAAK4K,YAAc,GAAI/K,WAAUoJ,mBAAmBlJ,EACpD,IAAIsJ,GAASrJ,KAAK4K,YAAYzB,yBAAyB,GACvDnJ,MAAK4K,YAAYb,mBAAmBV,GACpCxJ,UAAUqB,mBAAmBmB,KAAKrC,KAAKD,IAGxC4D,eAAiB,WAChB,MAAO3D,MAAK4K"}