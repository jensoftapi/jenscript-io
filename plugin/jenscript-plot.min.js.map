{"version":3,"file":"jenscript-plot.min.js","sources":["jenscript-plot.js"],"names":["JenScript","PlotPlugin","config","this","_init","Model","inheritPrototype","Plugin","addMethods","priority","name","call","plots","addPlot","plot","plugin","length","repaintPlugin","removePlot","nb","i","equals","onProjectionRegister","that","getProjection","addProjectionListener","paintPlugin","g2d","viewPart","solvePlot","pixelsPoints","devicePoints","svgPath","SVGPath","Id","p","moveTo","x","y","lineTo","deleteGraphicsElement","insertSVG","fillNone","stroke","plotColor","strokeWidth","plotWidth","toSVG","Plot","init","sequenceId","userPoints","anchorsPoints","undefined","addPoint","Point2D","getPoints","Error","LinePlot","uq","userToPixel","BezierPlot","STEPS","step","b","t","px","py","j","getX","getY","q","BezierG1Plot","__init","forceCollinear","k","distance","x1","y1","x2","y2","Math","sqrt","ij","jk","r","kx","ky","BSplinePlot","round","PlotCubic","a","c","d","eval","u","NaturalCubicPlot","calcNaturalCubic","n","gamma","delta","D","C","xpoints","ypoints","X","Y","q2","uq2","NaturalClosedCubicPlot","z","F","G","H","w","v","CatmullRomPlot"],"mappings":"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"}