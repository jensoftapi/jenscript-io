<!DOCTYPE html>
<html lang="en" class="jensoft-org">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="javascript charts">
    <meta name="author" content="Sébastien Janaud">
	<link rel="icon" type="image/png" href="../../assets/creep-001.png" />
    <title>Let's Make JavaScript Donut2D Charts - JenScript JS</title>
   
    
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">

<link rel="stylesheet" href="../../assets/docs.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/styles/color-brewer.min.css">
<!-- <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/styles/github.min.css"> -->
<!-- <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/styles/mono-blue.min.css"> -->
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/highlight.min.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
   
   <link rel="stylesheet" href="../../assets/style.css">
   <script src="../../jenscript-min.js"></script>
</head>

<body>



<div class="container">
   

<h1>Let's Make a Donut 2D Chart</h1> 

<small>Sébastien Janaud - May 17, 2015 / <a href="../../">JenScript</a>
</small>



<div class="bs-callout bs-callout-info" >
    <h4 >Donut D2 Feature</h4>
    A doughnut chart displays value data as percentages of the whole. Categories are represented by individual slices. 
    A little more bit rock'n roll, Donut2D charts are functionally identical to pie charts.
	Donut2D displays category groups, series groups, and values series as slices.
    <p><strong>JenScript does support donut/doughnut 2D</strong> and common properties such as effect, label, listener.
     Register plugin <code>Donut2DPlugin</code> in view projection. Add <code>Donut2D</code> in plugin then create <code>Donut2DSlice</code> as parts of donut.
    </p>
    
     <small><a href="https://github.com/sjanaud/jenscript/tree/master/src/plugins/donut2d" target="_blank">Learn more on github - donut2D plugin source ?</a></small>
  </div>
<div style="padding-top : 40 px;float:left; width: 100%; height: 300 px;" id="view"></div>


<p>
First step is to create the view which is the end chart. name attribute refers the root element where view chart is attached. 
</p>
<pre><code>
&lt;div style="padding-top : 40 px;float:left;" id="donut2dview"&gt;&lt;/div&gt;
</code></pre>
<pre><code class="javascript">var view = new JenScript.View({
		name : 'donut2dview',
		width : 600,
		height : 300,
});
</code></pre>


<p style="padding-top: 40px;">Now, create simple projection. By default donut is projected in user coordinate system and its default center is (0,0). 
it is drawn in center. in different context, you should want to draw donut in another location or in pixel coordinate at fixed position.

 </p>
<pre><code class="javascript">
var proj = new JenScript.LinearProjection({
		name : "proj1",
		minX : -1,
		maxX : 1,
		minY : -1,
		maxY : 1
	});

//or use identity projection
//var proj = new JenScript.IdentityProjection();
view.registerProjection(proj);
</code></pre>


<p style="padding-top: 40px;">Then register donut2d chart plugin, and a Donut with properties like inner and outer radius, start angle, fill and effects.</p>
<pre><code class="javascript">
var donut2DPlugin = new JenScript.Donut2DPlugin();
proj.registerPlugin(donut2DPlugin);

var donut = new JenScript.Donut2D({innerRadius :  60,outerRadius :  100});
donut2DPlugin.addDonut(donut);

donut.setFill(new JenScript.Donut2DRadialFill());
donut.addEffect(new JenScript.Donut2DLinearEffect());
donut.addEffect(new JenScript.Donut2DReflectionEffect());
</code></pre>

<p style="padding-top: 40px;">Finally slice parts of donut.</p>
<pre><code class="javascript">
var s1 = new JenScript.Donut2DSlice({
	name : "s1",
	value : 45,
	themeColor : 'rgb(240,240,240)'
});
var s2 = new JenScript.Donut2DSlice({
	name : "s2",
	value : 5,
	themeColor : 'rgb(237, 54, 162)'
});
var s3 = new JenScript.Donut2DSlice({
	name : "s3",
	value : 30,
	themeColor : 'rgb(244, 145, 26)'
});
var s4 = new JenScript.Donut2DSlice({
	name : "s4",
	value : 5,
	themeColor : 'rgb(22,125,218)'
});
var s5 = new JenScript.Donut2DSlice({
	name : "s5",
	value : 5,
	themeColor : 'rgba(61,44,105,1)'
});

donut.addSlices([s1,s2,s3,s4,s5]);

</code></pre>


 </div>
<script type="text/javascript">
$(window).resize(function() {
	var w = $("#view").width();
	var h = $("#view").height();
	create('view',w,h);
});

function create(container, width, height) {

	var view = new JenScript.View({
		name : container,
		width : width,
		height : 400,
		holders : 0,
		north: 20,
		south :20,
	});
	
	var proj = new JenScript.LinearProjection({
		name : "proj1",
		minX : -1,
		maxX : 1,
		minY : -1,
		maxY : 1
	});
	view.registerProjection(proj);


	var donut2DPlugin = new JenScript.Donut2DPlugin();
	proj.registerPlugin(donut2DPlugin);

	var donut = new JenScript.Donut2D({innerRadius :  80,outerRadius :  120});
	donut2DPlugin.addDonut(donut);

	donut.setFill(new JenScript.Donut2DRadialFill());
	donut.addEffect(new JenScript.Donut2DLinearEffect());
	donut.addEffect(new JenScript.Donut2DReflectionEffect());

	var s1 = new JenScript.Donut2DSlice({
		name : "s1",
		value : 45,
		themeColor : 'rgb(240,240,240)'
	});
	var s2 = new JenScript.Donut2DSlice({
		name : "s2",
		value : 5,
		themeColor : 'rgb(237, 54, 162)'
	});
	var s3 = new JenScript.Donut2DSlice({
		name : "s3",
		value : 30,
		themeColor : 'rgb(244, 145, 26)'
	});
	var s4 = new JenScript.Donut2DSlice({
		name : "s4",
		value : 5,
		themeColor : 'rgb(22,125,218)'
	});
	var s5 = new JenScript.Donut2DSlice({
		name : "s5",
		value : 5,
		themeColor : 'rgba(61,44,105,1)'
	});

	
	donut.addSlices([s1,s2,s3,s4,s5]);

	var s1Label = new JenScript.Donut2DRadialLabel({
		text : "Silver",
		fillColor:'black',
		outlineColor : 'rgb(180,180,180)',
		cornerRadius : 8,
		outlineWidth : 2,
		textColor :JenScript.Color.lighten(s1.getThemeColor(),20),
	});
	s1.addSliceLabel(s1Label);

	var s2Label = new JenScript.Donut2DRadialLabel({
		text : "Platinium",
		fillColor:'black',
		outlineColor : s2.getThemeColor(),
		cornerRadius : 8,
		outlineWidth : 2,
		textColor :JenScript.Color.lighten(s2.getThemeColor(),30),
	});
	s2.addSliceLabel(s2Label);

	var s3Label = new JenScript.Donut2DRadialLabel({
		text : "Rhodium",
		fillColor:'black',
		outlineColor : s3.getThemeColor(),
		cornerRadius : 8,
		outlineWidth : 2,
		textColor :JenScript.Color.lighten(s3.getThemeColor(),30),
		
	});
	s3.addSliceLabel(s3Label);

	var s4Label = new JenScript.Donut2DRadialLabel({
		text : "Gold",
		fillColor:'black',
		outlineColor : s4.getThemeColor(),
		cornerRadius : 8,
		outlineWidth : 2,
		textColor :JenScript.Color.lighten(s4.getThemeColor(),30),
	});
	s4.addSliceLabel(s4Label);

	var s5Label = new JenScript.Donut2DRadialLabel({
		text : "Uranium",
		fillColor:'black',
		outlineColor : JenScript.Color.lighten(s5.getThemeColor(),30),
		cornerRadius : 8,
		outlineWidth : 2,
		textColor :JenScript.Color.lighten(s5.getThemeColor(),50)
	});
	s5.addSliceLabel(s5Label);

	
	var tx1 = new JenScript.TranslatePlugin();
	proj.registerPlugin(tx1);

	tx1.select();
}

var w = $("#view").width();
var h = $("#view").height();
create('view',w,400);
</script>

<script type="text/javascript">
$(document).ready(function() {
	  $('pre code').each(function(i, block) {
	    hljs.highlightBlock(block);
	  });
	});
</script>
  </body>
</html>
